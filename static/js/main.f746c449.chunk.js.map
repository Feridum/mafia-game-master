{"version":3,"sources":["store/game/game.types.ts","store/player/player.types.ts","store/player/player.model.ts","routing/routes.ts","store/game/game.model.ts","store/store.ts","shared/BaseLayout/BaseLayout.styles.ts","shared/BaseLayout/BaseLayout.tsx","views/Menu/Menu.styles.ts","views/Menu/Menu.tsx","views/Players/Players.styles.ts","views/Players/Player/player.styles.ts","views/Players/Player/Player.tsx","views/Players/Players.tsx","views/Players/PlayerForm/PlayerForm.styles.ts","views/Players/PlayerForm/PlayerForm.tsx","views/Players/AddPlayer/AddPlayer.tsx","views/Assign/Player/player.styles.ts","views/Assign/Player/Player.tsx","views/Assign/Assign.styles.ts","views/Assign/Assign.tsx","views/Assign/Fraction/Fraction.styles.ts","views/Assign/Fraction/Role/Role.styles.ts","views/Assign/Fraction/Role/Role.tsx","views/Assign/Fraction/Fraction.tsx","views/Game/Game/Game.styles.ts","views/Game/Game/Player/player.styles.ts","views/Game/Game/Player/Player.tsx","views/Game/Game/Actions/Actions.styles.ts","views/Game/Game/Actions/PlayersDialog/PlayersDialog.styles.ts","views/Game/Game/Actions/PlayersDialog/PlayersDialog.tsx","views/Game/Game/Actions/Action/Action.styles.ts","views/Game/Game/Actions/Action/Action.tsx","views/Game/Game/Actions/Actions.tsx","views/Game/Game/Game.tsx","views/Game/GameMenu/GameMenu.styles.ts","views/Game/GameMenu/GameMenu.tsx","views/Players/EditPlayer/EditPlayer.tsx","routing/Routing.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["GamePeriodsType","DayActions","FirstNightActions","NightActions","ModifiersTypes","Fractions","TownRoles","MafiaRoles","SyndicateRoles","playerModel","items","addPlayer","action","state","payload","push","id","uuid","active","name","fraction","role","assignToRole","map","player","playerId","Object","objectSpread","editPlayer","changePlayerStatus","Routes","mapNewModifiers","modifier","spyInfo","_modifiers","defineProperty","POISON","modifiers","poison","death","BLACKMAIL","blackmail","DEATH_ANGEL","deathAngel","DEVIL","DOCTOR","SPY","spy","concat","toConsumableArray","CRAZY","QUICK","DEATH","mapAction","_modifiers2","storeModel","game","exisitingGame","periodNumber","config","firstNight","actions","type","MAFIA_MEET","message","PROSTITUTE_MEET","day","KILL","MEET","night","MAFIA_KILL","SPY2","players","log","period","computed","DAY","NIGHT","roles","filter","fractions","uniq","applyModifier","includes","NONE","SYNDICATE","startGame","nextPeriod","previousPeriod","persistConfig","key","storage","store","createStore","reducerEnhancer","reducer","persistReducer","persistor","persistStore","useStoreActions","useStoreState","useStoreDispatch","useStyles","makeStyles","theme","container","minHeight","display","flexDirection","childContainer","flexGrow","BaseLayout","_ref","children","_ref$displayAppBar","displayAppBar","classes","router","useContext","__RouterContext","react_default","a","createElement","className","AppBar","position","color","ChevronLeft","onClick","history","goBack","style","fontSize","useMenuStyles","button","width","height","marginBottom","spacing","justifyContent","Menu","BaseLayout_BaseLayout","Button","variant","root","PLAYERS","ASSIGN_PLAYERS","GAME_MENU","usePlayersStyles","overflowY","&::-webkit-scrollbar","addContainer","padding","legend","usePlayerStyles","alignItems","Player","changeStatus","Box","Switch","checked","onChange","Players","Typography","component","Player_Player","Fab","aria-label","ADD_PLAYER","Add","usePlayerFormStyles","marginTop","buttonContainer","PlayerForm","handleSubmit","initialValue","react_final_form_es","onSubmit","initialValues","render","_ref2","submitting","noValidate","fullWidth","required","TextField","label","validate","value","length","undefined","Grid","item","disabled","AddPlayer","PlayerForm_PlayerForm","values","useAssignStyles","Assign","Player_Player_Player","useFractionStyles","minWidth","useRoleStyles","Role","addRole","match","params","Fraction","useTheme","_useState","useState","_useState2","slicedToArray","setValue","Tabs","event","newValue","indicatorColor","textColor","Tab","icon","LocationCity","Brightness3","Phone","lib_default","axis","direction","index","onChangeIndex","dir","Role_Role","TOWN","MAFIA","useGameStyles","logsContainer","scrollableContainer","info","infoElem","react","useActionStyles","usePlayersDialogStyles","mapFractionsToInfo","_mapFractionsToInfo","PlayersDialog","open","onClose","isSpy","selectedPlayersIds","setSelectedPlayers","_useState3","_useState4","setSpyInfo","handleSave","handleSpySave","Dialog","fullScreen","DialogContent","ButtonGroup","handleClick","DialogActions","Action","_mapActionsToModifer","done","setDoneStatus","playerAction","setPlayerAction","_useState5","_useState6","isPlayersDialogOpen","setPlayerDialog","mapActionsToModifer","spyActions","PlayersDialog_PlayersDialog","Actions","firstNightActions","dayActions","nightActions","PROSTITUTE","BLACKMAILER","Action_Action","Game","logs","Notes","ViewList","Person","slideClassName","containerStyle","Actions_Actions","Game_Player_Player_Player","useGameMenuStyles","GameMenu","startNewGame","existingGame","GAME","EditPlayer","Routing","react_router_dom","react_router","exact","path","MAIN_MENU","App","integration_react","loading","easy_peasy_esm","Container","maxWidth","CssBaseline","Routing_Routing","Boolean","window","location","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f746c449.chunk.js","sourcesContent":["import { Action, Computed } from 'easy-peasy'\nimport { Player } from 'store/player/player.types'\n\nexport enum GamePeriodsType {\n    DAY = 'DAY',\n    NIGHT = 'NIGHT',\n}\n\nexport enum DayActions {\n    KILL = 'KILL',\n    MEET = 'MEET',\n    QUICK = 'QUICK',\n    CRAZY = 'CRAZY',\n}\n\nexport enum FirstNightActions {\n    PROSTITUTE_MEET = 'PROSTITUTE_MEET',\n    MAFIA_MEET = 'MAFIA_MEET',\n    BLACKMAIL = 'BLACKMAIL',\n}\n\nexport enum NightActions {\n    MAFIA_KILL = 'MAFIA_KILL',\n    POISON = 'POISON',\n    DEATH_ANGEL = 'DEATH_ANGEL',\n    DOCTOR = 'DOCTOR',\n    DEVIL = 'DEVIL',\n    SPY = 'SPY',\n    SPY2 = 'SPY2',\n}\n\nexport type Actions = FirstNightActions | DayActions | NightActions\n\nexport interface ActionConfig {\n    type: Actions\n    message: string\n    action: boolean\n}\nexport interface Config {\n    actions: Array<ActionConfig>\n}\n\nexport enum ModifiersTypes {\n    POISON = 'POISON',\n    DEATH = 'DEATH',\n    BLACKMAIL = 'BLACKMAIL',\n    DEATH_ANGEL = 'DEATH_ANGEL',\n    SPY = 'SPY',\n    DOCTOR = 'DOCTOR',\n    DEVIL = 'DEVIL',\n    CRAZY = 'CRAZY',\n    QUICK = 'QUICK',\n}\n\nexport interface Modifiers {\n    poison: number\n    death: boolean\n    blackmail: boolean\n    deathAngel: number\n    spy: string[]\n}\n\nexport interface GamePlayer {\n    playerId: string\n    name: string\n    fraction: string\n    role: string\n    modifiers: Modifiers\n}\n\nexport interface GameModel {\n    exisitingGame: boolean\n    period: Computed<GameModel, GamePeriodsType>\n    roles: Computed<GameModel, string[]>\n    fractions: Computed<GameModel, string[]>\n    periodNumber: number\n    config: {\n        firstNight: Config\n        day: Config\n        night: Config\n    }\n    players: GamePlayer[]\n    log: Array<{\n        action: string\n    }>\n    applyModifier: Action<\n        GameModel,\n        {\n            players: string[]\n            modifier: ModifiersTypes\n            spyInfo?: string\n            newRole?: string\n        }\n    >\n    startGame: Action<GameModel, { players: Player[] }>\n    nextPeriod: Action<GameModel>\n    previousPeriod: Action<GameModel>\n}\n","import { Action } from 'easy-peasy'\n\nexport enum Fractions {\n    TOWN = 'Miasto',\n    MAFIA = 'Mafia',\n    SYNDICATE = 'Syndyk',\n}\n\nexport enum TownRoles {\n    SPY = 'Szpieg',\n    SPY2 = 'Szpieg 2.0',\n    CRAZY = 'Szaleniec',\n    QUICK = 'Szybki',\n    DOCTOR = 'Doktor',\n    NONE = 'Zwykły Obywatel',\n}\n\nexport enum MafiaRoles {\n    BOSS = 'Boss',\n    BLACKMAILER = 'Szantażysta',\n    POISON = 'Truciciel',\n}\n\nexport enum SyndicateRoles {\n    DEVIL = 'Diabolica',\n    DEATH_ANGEL = 'Anioł Śmierci',\n    PROSTITUTE = 'Prostytuta',\n    SAINT = 'Święty',\n    NONE = 'szeregowy Syndykatu',\n}\n\nexport type Roles = TownRoles & MafiaRoles & SyndicateRoles\n\nexport interface PlayerModel {\n    items: Player[]\n    addPlayer: Action<PlayerModel, string>\n    assignToRole: Action<\n        PlayerModel,\n        { playerId: string; role: string; fraction: Fractions }\n    >\n    editPlayer: Action<PlayerModel, { id: string; name: string }>\n    changePlayerStatus: Action<PlayerModel, string>\n}\n\nexport interface Player {\n    id: string\n    name: string\n    active: boolean\n    role: string | null\n    fraction: Fractions | null\n}\n","import { PlayerModel, Player } from './player.types'\nimport { action } from 'easy-peasy'\nimport uuid from 'uuid/v4'\n\nexport const playerModel: PlayerModel = {\n    items: [],\n    addPlayer: action((state, payload) => {\n        state.items.push({\n            id: uuid(),\n            active: true,\n            name: payload,\n            fraction: null,\n            role: null,\n        })\n    }),\n    assignToRole: action((state, payload) => {\n        state.items = state.items.map<Player>(player => {\n            if (player.id === payload.playerId) {\n                return {\n                    ...player,\n                    fraction: payload.fraction,\n                    role: payload.role,\n                }\n            }\n\n            if (player.role === payload.role) {\n                return {\n                    ...player,\n                    fraction: null,\n                    role: null,\n                }\n            }\n            return player\n        })\n    }),\n    editPlayer: action((state, payload) => {\n        state.items = state.items.map(player => {\n            if (player.id === payload.id) {\n                return {\n                    ...player,\n                    name: payload.name,\n                }\n            }\n\n            return player\n        })\n    }),\n    changePlayerStatus: action((state, payload) => {\n        state.items = state.items.map(player => {\n            if (player.id === payload) {\n                return {\n                    ...player,\n                    active: !player.active,\n                }\n            }\n\n            return player\n        })\n    }),\n}\n","export enum Routes {\n    MAIN_MENU = '/',\n    PLAYERS = '/players',\n    ADD_PLAYER = '/players/new',\n    ASSIGN_PLAYERS = '/fractions/players',\n    GAME_MENU = '/game/menu/',\n    GAME = '/game',\n}\n","import {\n    GameModel,\n    GamePeriodsType,\n    FirstNightActions,\n    DayActions,\n    GamePlayer,\n    ModifiersTypes,\n    Modifiers,\n    NightActions,\n} from './game.types'\nimport { action, computed } from 'easy-peasy'\nimport { Fractions, TownRoles, SyndicateRoles } from 'store/player/player.types'\nimport { uniq } from 'lodash'\n\nconst mapNewModifiers = (\n    player: GamePlayer,\n    modifier: ModifiersTypes,\n    spyInfo?: string\n): Modifiers => {\n    const modifiers: { [key in ModifiersTypes]: Modifiers } = {\n        [ModifiersTypes.POISON]: {\n            ...player.modifiers,\n            poison: player.modifiers.poison + 1,\n            death: player.modifiers.poison ? true : false,\n        },\n        [ModifiersTypes.BLACKMAIL]: {\n            ...player.modifiers,\n            blackmail: true,\n        },\n        [ModifiersTypes.DEATH_ANGEL]: {\n            ...player.modifiers,\n            deathAngel: player.modifiers.deathAngel + 1,\n            death: player.modifiers.deathAngel ? true : false,\n        },\n        [ModifiersTypes.DEVIL]: {\n            ...player.modifiers,\n        },\n        [ModifiersTypes.DOCTOR]: {\n            ...player.modifiers,\n            poison: 0,\n            death: true,\n        },\n        [ModifiersTypes.SPY]: {\n            ...player.modifiers,\n            spy: spyInfo\n                ? [...player.modifiers.spy, spyInfo]\n                : player.modifiers.spy,\n        },\n        [ModifiersTypes.CRAZY]: {\n            ...player.modifiers,\n            death: true,\n        },\n        [ModifiersTypes.QUICK]: {\n            ...player.modifiers,\n            death: true,\n        },\n        [ModifiersTypes.DEATH]: {\n            ...player.modifiers,\n            death: true,\n        },\n    }\n\n    return modifiers[modifier]\n}\n\nconst mapAction = (\n    player: GamePlayer,\n    modifier: ModifiersTypes,\n    spyInfo?: string\n): string => {\n    const modifiers: { [key in ModifiersTypes]: string } = {\n        [ModifiersTypes.POISON]: `Zatruto: ${player.name}`,\n        [ModifiersTypes.BLACKMAIL]: `Szantaż: ${player.name}`,\n        [ModifiersTypes.DEATH_ANGEL]: `Anioł śmierci oznaczył: ${player.name}`,\n        [ModifiersTypes.DEVIL]: `Diabolica onaczyła: ${player.name}`,\n        [ModifiersTypes.DOCTOR]: `Doktor wyleczył: ${player.name}`,\n        [ModifiersTypes.SPY]: `Szpieg wykradł informacje o: ${player.name} - ${spyInfo}`,\n        [ModifiersTypes.CRAZY]: `Szaleniec zabił: ${player.name}`,\n        [ModifiersTypes.QUICK]: `Szybki zabił: ${player.name}`,\n        [ModifiersTypes.DEATH]: `Umarł: ${player.name}`,\n    }\n\n    return modifiers[modifier]\n}\n\nexport const gameModel: GameModel = {\n    exisitingGame: false,\n    periodNumber: 0,\n    config: {\n        firstNight: {\n            actions: [\n                {\n                    type: FirstNightActions.MAFIA_MEET,\n                    message: 'Mafia się poznaje',\n                    action: false,\n                },\n                {\n                    type: FirstNightActions.BLACKMAIL,\n                    message: 'Szantażysta wybiera ofiarę',\n                    action: true,\n                },\n                {\n                    type: FirstNightActions.PROSTITUTE_MEET,\n                    message: 'Prostytutka omamia ofiarę, który wyjawi wszystko',\n                    action: false,\n                },\n            ],\n        },\n        day: {\n            actions: [\n                {\n                    type: DayActions.KILL,\n                    message: 'Miasto postanowiło zabić',\n                    action: true,\n                },\n                {\n                    type: DayActions.MEET,\n                    message: 'Miasto chce poznać mieszkańca',\n                    action: true,\n                },\n                {\n                    type: DayActions.CRAZY,\n                    message: 'Szaleniec postanowił zabić',\n                    action: true,\n                },\n                {\n                    type: DayActions.QUICK,\n                    message: 'Szybki nie chce dać się zabić',\n                    action: true,\n                },\n            ],\n        },\n        night: {\n            actions: [\n                {\n                    type: NightActions.MAFIA_KILL,\n                    message: 'Mafia zabija',\n                    action: true,\n                },\n                {\n                    type: NightActions.POISON,\n                    message: 'Truciel zatruwa osobę',\n                    action: true,\n                },\n                {\n                    type: NightActions.DEATH_ANGEL,\n                    message: 'Anioł śmierci naznacza',\n                    action: true,\n                },\n                {\n                    type: NightActions.DOCTOR,\n                    message: 'Lekarz leczy',\n                    action: true,\n                },\n                {\n                    type: NightActions.DEVIL,\n                    message: 'Diabolica rozpoczyna seans spirytystyczny',\n                    action: true,\n                },\n                {\n                    type: NightActions.SPY,\n                    message: 'Szpiego poznaje tożsamość gracza',\n                    action: true,\n                },\n                {\n                    type: NightActions.SPY2,\n                    message: 'Szpieg v2 poznaje tożsamość gracza',\n                    action: true,\n                },\n            ],\n        },\n    },\n    players: [],\n    log: [],\n    period: computed(state =>\n        !!(state.periodNumber % 2) ? GamePeriodsType.DAY : GamePeriodsType.NIGHT\n    ),\n    roles: computed(state =>\n        state.players\n            .filter(player => !player.modifiers.death)\n            .map(player => player.role)\n    ),\n    fractions: computed(state =>\n        uniq(\n            state.players\n                .filter(player => !player.modifiers.death)\n                .map(player => player.fraction)\n        )\n    ),\n    applyModifier: action((state, payload) => {\n        state.players = state.players.map<GamePlayer>(player => {\n            if (payload.players.includes(player.playerId)) {\n                state.log.push({\n                    action: mapAction(\n                        player,\n                        payload.modifier,\n                        payload.spyInfo\n                    ),\n                })\n\n                return {\n                    ...player,\n                    role:\n                        payload.modifier === ModifiersTypes.DEVIL &&\n                        player.modifiers.death\n                            ? SyndicateRoles.NONE\n                            : player.role,\n                    fraction:\n                        payload.modifier === ModifiersTypes.DEVIL &&\n                        player.modifiers.death\n                            ? Fractions.SYNDICATE\n                            : player.fraction,\n                    modifiers: mapNewModifiers(\n                        player,\n                        payload.modifier,\n                        payload.spyInfo\n                    ),\n                }\n            }\n\n            if (\n                payload.modifier === ModifiersTypes.CRAZY &&\n                player.role === TownRoles.CRAZY\n            ) {\n                return {\n                    ...player,\n                    role: TownRoles.NONE,\n                }\n            }\n            if (\n                payload.modifier === ModifiersTypes.QUICK &&\n                player.role === TownRoles.QUICK\n            ) {\n                return {\n                    ...player,\n                    role: TownRoles.NONE,\n                }\n            }\n            return player\n        })\n    }),\n    startGame: action((state, payload) => {\n        state.exisitingGame = true\n        state.periodNumber = 0\n        state.players = payload.players.map<GamePlayer>(player => {\n            return {\n                playerId: player.id,\n                name: player.name,\n                role: player.role as string,\n                fraction: player.fraction as Fractions,\n                modifiers: {\n                    poison: 0,\n                    death: false,\n                    blackmail: false,\n                    deathAngel: 0,\n                    spy: [],\n                },\n            }\n        })\n        state.log = []\n    }),\n    nextPeriod: action(state => {\n        state.periodNumber = state.periodNumber + 1\n    }),\n    previousPeriod: action(state => {\n        state.periodNumber = state.periodNumber - 1\n    }),\n}\n","import { createStore } from 'easy-peasy'\nimport { StoreModel } from './store.types'\nimport { playerModel } from './player/player.model'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport { gameModel } from './game/game.model'\n\nconst storeModel: StoreModel = {\n    player: playerModel,\n    game: gameModel,\n}\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n}\n\nexport const store = createStore(storeModel, {\n    reducerEnhancer: (reducer: any): any => {\n        return persistReducer(persistConfig, reducer)\n    },\n})\n\nexport const persistor = persistStore(store)\nexport const useStoreActions = store.useStoreActions\nexport const useStoreDispatch = store.useStoreDispatch\nexport const useStoreState = store.useStoreState\n","import { makeStyles } from '@material-ui/core'\n\nexport const useStyles = makeStyles(theme => ({\n    container: {\n        minHeight: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n\n    childContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { useStyles } from './BaseLayout.styles'\nimport { AppBar } from '@material-ui/core'\nimport { BaseLayoutProps } from './BaseLayout.types'\nimport { ChevronLeft } from '@material-ui/icons'\nimport { __RouterContext } from 'react-router'\n\nexport const BaseLayout: FC<BaseLayoutProps> = ({\n    children,\n    displayAppBar = false,\n}) => {\n    const classes = useStyles()\n    const router = useContext(__RouterContext)\n\n    return (\n        <div className={classes.container}>\n            {displayAppBar && (\n                <AppBar position=\"static\" color=\"primary\">\n                    <ChevronLeft\n                        onClick={() => router.history.goBack()}\n                        style={{ fontSize: '2.5rem' }}\n                    />\n                </AppBar>\n            )}\n            <div className={classes.childContainer}>{children}</div>\n        </div>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useMenuStyles = makeStyles(theme => ({\n    button: {\n        width: '100%',\n        height: 100,\n        marginBottom: theme.spacing(2),\n    },\n    container: {\n        justifyContent: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { Button } from '@material-ui/core'\nimport { useMenuStyles } from './Menu.styles'\nimport { __RouterContext } from 'react-router'\nimport { Routes } from 'routing/routes'\n\nexport const Menu: FC = () => {\n    const classes = useMenuStyles()\n    const router = useContext(__RouterContext)\n\n    return (\n        <BaseLayout>\n            <div className={classes.container}>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.button }}\n                    onClick={() => router.history.push(Routes.PLAYERS)}\n                >\n                    Gracze\n                </Button>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.button }}\n                    onClick={() => router.history.push(Routes.ASSIGN_PLAYERS)}\n                >\n                    Przypisz role\n                </Button>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.button }}\n                    onClick={() => router.history.push(Routes.GAME_MENU)}\n                >\n                    Zacznij gre\n                </Button>\n            </div>\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayersStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: 0,\n        overflowY: 'scroll',\n        flexGrow: 1,\n        '&::-webkit-scrollbar': {\n            width: '0 !important',\n        },\n    },\n    addContainer: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n    legend: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}))\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayerStyles = makeStyles(theme => ({\n    container: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        alignItems: 'center',\n    },\n    button: {\n        display: 'flex',\n        flexGrow: 1,\n        padding: theme.spacing(2),\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { PlayerProps } from './player.types'\nimport { usePlayerStyles } from './player.styles'\nimport { Button, Switch, Box } from '@material-ui/core'\nimport { __RouterContext } from 'react-router'\nimport { useStoreActions } from 'store/store'\n\nexport const Player: FC<PlayerProps> = ({ player }) => {\n    const classes = usePlayerStyles()\n    const router = useContext(__RouterContext)\n    const changeStatus = useStoreActions(\n        actions => actions.player.changePlayerStatus\n    )\n\n    return (\n        <Box className={classes.container}>\n            <Button\n                classes={{ root: classes.button }}\n                variant=\"outlined\"\n                onClick={() => router.history.push(`/players/${player.id}`)}\n            >\n                {player.name}\n            </Button>\n            <Switch\n                checked={player.active}\n                onChange={() => changeStatus(player.id)}\n            />\n        </Box>\n    )\n}\n","import React, { FC, useContext } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { Fab, Typography } from '@material-ui/core'\nimport { Add } from '@material-ui/icons'\nimport { usePlayersStyles } from './Players.styles'\nimport { __RouterContext } from 'react-router'\nimport { Routes } from 'routing/routes'\nimport { useStoreState } from 'store/store'\nimport { Player } from './Player/Player'\nimport { PlayersProps } from './Players.types'\n\nexport const Players: FC<PlayersProps> = () => {\n    const players = useStoreState(store => store.player.items)\n    const classes = usePlayersStyles()\n    const router = useContext(__RouterContext)\n\n    return (\n        <BaseLayout displayAppBar>\n            <div className={classes.legend}>\n                <Typography variant=\"h6\" component=\"h6\">\n                    Imie gracza\n                </Typography>\n                <Typography variant=\"h6\" component=\"h6\">\n                    Czy gra?\n                </Typography>\n            </div>\n            <div className={classes.container}>\n                {players.map(player => (\n                    <Player player={player} />\n                ))}\n            </div>\n            <div className={classes.addContainer}>\n                <Fab\n                    color=\"secondary\"\n                    aria-label=\"Add\"\n                    onClick={() => router.history.push(Routes.ADD_PLAYER)}\n                >\n                    <Add />\n                </Fab>\n            </div>\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayerFormStyles = makeStyles(theme => ({\n    container: {\n        marginTop: theme.spacing(3),\n    },\n    buttonContainer: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n}))\n","import React, { FC } from 'react'\nimport { Form, Field } from 'react-final-form'\nimport { TextField } from 'final-form-material-ui'\nimport { Grid, Button } from '@material-ui/core'\nimport { PlayerFormProps } from './PlayerForm.types'\nimport { usePlayerFormStyles } from './PlayerForm.styles'\n\nexport const PlayerForm: FC<PlayerFormProps> = ({\n    handleSubmit,\n    initialValue,\n}) => {\n    const classes = usePlayerFormStyles()\n    return (\n        <Form<{ name: string }>\n            onSubmit={handleSubmit}\n            initialValues={{ name: initialValue }}\n            render={({ handleSubmit, submitting }) => (\n                <form\n                    onSubmit={handleSubmit}\n                    noValidate\n                    className={classes.container}\n                >\n                    <Field\n                        fullWidth\n                        required\n                        name=\"name\"\n                        component={TextField}\n                        type=\"text\"\n                        label=\"Imie gracza\"\n                        validate={value =>\n                            value.length > 0 ? undefined : 'Pole wymagane'\n                        }\n                    />\n\n                    <Grid\n                        item\n                        style={{ marginTop: 16 }}\n                        className={classes.buttonContainer}\n                    >\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            type=\"submit\"\n                            disabled={submitting}\n                        >\n                            {initialValue !== '' ? 'Zapisz' : 'Dodaj'}\n                        </Button>\n                    </Grid>\n                </form>\n            )}\n        />\n    )\n}\n","import React, { FC, useContext } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { useStoreActions } from 'store/store'\nimport { __RouterContext } from 'react-router'\nimport { PlayerForm } from '../PlayerForm/PlayerForm'\n\nexport const AddPlayer: FC = () => {\n    const router = useContext(__RouterContext)\n    const addPlayer = useStoreActions(actions => actions.player.addPlayer)\n\n    const handleSubmit = (values: { name: string }) => {\n        addPlayer(values.name)\n        router.history.goBack()\n    }\n    return (\n        <BaseLayout displayAppBar>\n            <PlayerForm initialValue=\"\" handleSubmit={handleSubmit} />\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayerStyles = makeStyles(theme => ({\n    container: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { PlayerProps } from './player.types'\nimport { usePlayerStyles } from './player.styles'\nimport { Typography, Button } from '@material-ui/core'\nimport { __RouterContext } from 'react-router'\n\nexport const Player: FC<PlayerProps> = ({ player }) => {\n    const classes = usePlayerStyles()\n    const router = useContext(__RouterContext)\n\n    return (\n        <Button\n            classes={{ root: classes.container }}\n            onClick={() =>\n                router.history.push(`/fractions/players/${player.id}`)\n            }\n            variant=\"outlined\"\n            fullWidth\n        >\n            <Typography variant=\"h6\" component=\"h6\">\n                {player.name}\n            </Typography>\n            {player.role && (\n                <Typography variant=\"h6\" component=\"h6\">\n                    ({player.role})\n                </Typography>\n            )}\n        </Button>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useAssignStyles = makeStyles(theme => ({\n    container: {\n        marginTop: theme.spacing(3),\n    },\n}))\n","import React, { FC } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { useStoreState } from 'store/store'\nimport { Player } from './Player/Player'\nimport { useAssignStyles } from './Assign.styles'\n\nexport const Assign: FC = () => {\n    const players = useStoreState(store => store.player.items).filter(\n        player => player.active\n    )\n    const classes = useAssignStyles()\n\n    return (\n        <BaseLayout displayAppBar>\n            <div className={classes.container}>\n                {players.map(player => (\n                    <Player player={player} />\n                ))}\n            </div>\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useFractionStyles = makeStyles(theme => ({\n    fullWidth: {\n        minWidth: 'unset',\n    },\n}))\n","import { makeStyles } from '@material-ui/core'\n\nexport const useRoleStyles = makeStyles(theme => ({\n    container: {\n        padding: theme.spacing(2),\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { Button, Typography } from '@material-ui/core'\nimport { __RouterContext } from 'react-router'\nimport { useRoleStyles } from './Role.styles'\nimport { RoleProps } from './Role.types'\nimport { useStoreActions } from 'store/store'\n\nexport const Role: FC<RoleProps> = ({ role, fraction }) => {\n    const classes = useRoleStyles()\n    const router = useContext(__RouterContext)\n\n    const addRole = useStoreActions(actions => actions.player.assignToRole)\n\n    const id = (router.match.params as { id: string }).id\n\n    const handleClick = () => {\n        id &&\n            addRole({\n                role: role,\n                playerId: id,\n                fraction: fraction,\n            })\n\n        router.history.goBack()\n    }\n\n    return (\n        <Button\n            classes={{ root: classes.container }}\n            onClick={handleClick}\n            variant=\"outlined\"\n            fullWidth\n        >\n            <Typography variant=\"h5\" component=\"h3\">\n                {role}\n            </Typography>\n        </Button>\n    )\n}\n","import React, { FC, useState } from 'react'\nimport SwipeableViews from 'react-swipeable-views'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { AppBar, Tabs, Tab, useTheme } from '@material-ui/core'\nimport { Phone, LocationCity, Brightness3 } from '@material-ui/icons'\nimport { useFractionStyles } from './Fraction.styles'\nimport {\n    TownRoles,\n    MafiaRoles,\n    SyndicateRoles,\n} from 'store/player/player.types'\nimport { Role } from './Role/Role'\nimport { Fractions } from 'store/player/player.types'\n\nexport const Fraction: FC = () => {\n    const classes = useFractionStyles()\n    const theme = useTheme()\n    const [value, setValue] = useState(0)\n\n    function handleChange(event: any, newValue: number) {\n        setValue(newValue)\n    }\n\n    function handleChangeIndex(index: number) {\n        setValue(index)\n    }\n\n    return (\n        <BaseLayout displayAppBar>\n            <AppBar position=\"static\" color=\"default\">\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    variant=\"fullWidth\"\n                >\n                    <Tab\n                        icon={<LocationCity />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                    <Tab\n                        icon={<Brightness3 />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                    <Tab\n                        icon={<Phone />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                </Tabs>\n            </AppBar>\n            <SwipeableViews\n                axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                index={value}\n                onChangeIndex={handleChangeIndex}\n            >\n                <div dir={theme.direction}>\n                    {Object.values(TownRoles).map((role: string) => (\n                        <Role role={role} fraction={Fractions.TOWN} />\n                    ))}\n                </div>\n                <div dir={theme.direction}>\n                    {Object.values(MafiaRoles).map((role: string) => (\n                        <Role role={role} fraction={Fractions.MAFIA} />\n                    ))}\n                </div>\n                <div dir={theme.direction}>\n                    {Object.values(SyndicateRoles).map((role: string) => (\n                        <Role role={role} fraction={Fractions.SYNDICATE} />\n                    ))}\n                </div>\n            </SwipeableViews>\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useGameStyles = makeStyles(theme => ({\n    fullWidth: {\n        minWidth: 'unset',\n    },\n    flexGrow: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n    },\n    logsContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n        marginTop: theme.spacing(2),\n    },\n    scrollableContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: 0,\n        overflowY: 'scroll',\n        flexGrow: 1,\n        '&::-webkit-scrollbar': {\n            width: '0 !important',\n        },\n    },\n}))\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayerStyles = makeStyles(theme => ({\n    container: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    info: {\n        display: 'flex',\n    },\n    infoElem: {\n        padding: theme.spacing(2),\n    },\n}))\n","import React, { FC, Fragment } from 'react'\nimport { PlayerProps } from './player.types'\nimport { usePlayerStyles } from './player.styles'\nimport { Typography, Button } from '@material-ui/core'\n\nexport const Player: FC<PlayerProps> = ({ player }) => {\n    const classes = usePlayerStyles()\n    const modifiers = player.modifiers\n    return (\n        <Fragment>\n            <Button\n                classes={{ root: classes.container }}\n                disabled={player.modifiers.death}\n            >\n                <Typography variant=\"h6\" component=\"h6\">\n                    {player.name}\n                </Typography>\n                <Typography variant=\"h6\" component=\"h6\">\n                    ({player.role})\n                </Typography>\n            </Button>\n            <div className={classes.info}>\n                <Typography\n                    variant=\"h6\"\n                    component=\"h6\"\n                    className={classes.infoElem}\n                >\n                    T: {modifiers.poison}\n                </Typography>\n                <Typography\n                    variant=\"h6\"\n                    component=\"h6\"\n                    className={classes.infoElem}\n                >\n                    A: {modifiers.deathAngel}\n                </Typography>\n                {modifiers.blackmail && (\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h6\"\n                        className={classes.infoElem}\n                    >\n                        Szantażowany\n                    </Typography>\n                )}\n            </div>\n        </Fragment>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useActionStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n    },\n    button: {\n        padding: theme.spacing(2),\n    },\n}))\n","import { makeStyles } from '@material-ui/core'\n\nexport const usePlayersDialogStyles = makeStyles(theme => ({\n    button: {\n        padding: theme.spacing(2),\n    },\n}))\n","import React, { FC, useState, Fragment } from 'react'\nimport {\n    Dialog,\n    Button,\n    DialogActions,\n    DialogContent,\n    Typography,\n    ButtonGroup,\n} from '@material-ui/core'\nimport { PlayersDialogProps } from './PlayersDialog.types'\nimport { useStoreState } from 'store/store'\nimport { GamePlayer } from 'store/game/game.types'\nimport { Fractions } from 'store/player/player.types'\nimport { usePlayersDialogStyles } from './PlayersDialog.styles'\n\nconst mapFractionsToInfo: { [key in string]: string } = {\n    [Fractions.MAFIA]: 'Nie z mafii',\n    [Fractions.SYNDICATE]: 'Nie z syndyku',\n    [Fractions.TOWN]: 'Nie z miasta',\n}\n\nexport const PlayersDialog: FC<PlayersDialogProps> = ({\n    open,\n    onClose,\n    onClick,\n    isSpy,\n}) => {\n    const [selectedPlayersIds, setSelectedPlayers] = useState<string[]>([])\n    const [spyInfo, setSpyInfo] = useState<GamePlayer | null>(null)\n    const players = useStoreState(store =>\n        store.game.players.filter(player => !player.modifiers.death)\n    )\n    const classes = usePlayersDialogStyles()\n\n    const handleClick = (player: GamePlayer) => {\n        if (isSpy) {\n            setSpyInfo(player)\n        } else {\n            if (selectedPlayersIds.includes(player.playerId)) {\n                setSelectedPlayers(\n                    selectedPlayersIds.filter(\n                        playerId => playerId !== player.playerId\n                    )\n                )\n            } else {\n                setSelectedPlayers([...selectedPlayersIds, player.playerId])\n            }\n        }\n    }\n\n    const handleSave = () => {\n        onClick(selectedPlayersIds, '')\n        onClose()\n    }\n\n    const handleSpySave = (playerId: string, spy: string) => {\n        onClick([playerId], spy)\n        onClose()\n    }\n\n    return (\n        <Dialog fullScreen open={open} onClose={onClose}>\n            <DialogContent>\n                {!!!spyInfo ? (\n                    players.map(player => (\n                        <Button\n                            fullWidth\n                            variant={\n                                selectedPlayersIds.includes(player.playerId)\n                                    ? 'contained'\n                                    : 'outlined'\n                            }\n                            onClick={() => handleClick(player)}\n                            className={classes.button}\n                            key={`player-dialog-${player.playerId}`}\n                        >\n                            {player.name}\n                        </Button>\n                    ))\n                ) : (\n                    <Fragment>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            {spyInfo!.name} {spyInfo!.fraction}\n                        </Typography>\n                        {spyInfo!.modifiers.spy.length === 0 && (\n                            <Typography variant=\"h5\" component=\"h3\">\n                                O tym graczu nie była jeszcze sprawdzona\n                                informacja\n                            </Typography>\n                        )}\n                        {spyInfo!.modifiers.spy.map(spy => (\n                            <Typography variant=\"h5\" component=\"h3\">\n                                {mapFractionsToInfo[spy]}\n                            </Typography>\n                        ))}\n                        <ButtonGroup fullWidth>\n                            {Object.values(Fractions)\n                                .filter(\n                                    fraction => fraction !== spyInfo!.fraction\n                                )\n                                .map(fraction => (\n                                    <Button\n                                        onClick={() =>\n                                            handleSpySave(\n                                                spyInfo!.playerId,\n                                                fraction\n                                            )\n                                        }\n                                        key={fraction}\n                                    >\n                                        {mapFractionsToInfo[fraction]}\n                                    </Button>\n                                ))}\n                        </ButtonGroup>\n                    </Fragment>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    onClick={!!spyInfo ? () => setSpyInfo(null) : onClose}\n                    color=\"primary\"\n                    className={classes.button}\n                >\n                    Anuluj\n                </Button>\n                {!isSpy && (\n                    <Button\n                        onClick={() => handleSave()}\n                        color=\"primary\"\n                        disabled={selectedPlayersIds.length === 0}\n                        className={classes.button}\n                    >\n                        Zatwierdź zmainy dla graczy\n                    </Button>\n                )}\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useActionStyles = makeStyles(theme => ({\n    container: {\n        padding: theme.spacing(2),\n    },\n}))\n","import React, { FC, useState, Fragment } from 'react'\nimport { Button } from '@material-ui/core'\nimport { ActionProps } from './Action.types'\nimport { PlayersDialog } from '../PlayersDialog/PlayersDialog'\nimport { useStoreActions } from 'store/store'\nimport {\n    DayActions,\n    ModifiersTypes,\n    NightActions,\n    FirstNightActions,\n} from 'store/game/game.types'\nimport { useActionStyles } from './Action.styles'\n\nexport const Action: FC<ActionProps> = ({ action }) => {\n    const [done, setDoneStatus] = useState(false)\n    const [playerAction, setPlayerAction] = useState<{\n        action: (players: string[], spyInfo: string) => void\n        isSpy: boolean\n    }>({ action: () => {}, isSpy: false })\n    const [isPlayersDialogOpen, setPlayerDialog] = useState(false)\n    const applyModifier = useStoreActions(actions => actions.game.applyModifier)\n    const classes = useActionStyles()\n\n    const mapActionsToModifer: {\n        [key in string]: (players: string[], spyInfo: string) => void\n    } = {\n        [DayActions.KILL]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.DEATH }),\n        [DayActions.MEET]: (players: string[], spyInfo: string) =>\n            applyModifier({ players, modifier: ModifiersTypes.SPY, spyInfo }),\n        [DayActions.CRAZY]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.CRAZY }),\n        [DayActions.QUICK]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.QUICK }),\n        [NightActions.MAFIA_KILL]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.DEATH }),\n        [NightActions.DEATH_ANGEL]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.DEATH_ANGEL }),\n        [NightActions.DEVIL]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.DEVIL }),\n        [NightActions.DOCTOR]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.DOCTOR }),\n        [NightActions.POISON]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.POISON }),\n        [NightActions.SPY]: (players: string[], spyInfo: string) =>\n            applyModifier({ players, modifier: ModifiersTypes.SPY, spyInfo }),\n        [NightActions.SPY2]: (players: string[], spyInfo: string) =>\n            applyModifier({ players, modifier: ModifiersTypes.SPY, spyInfo }),\n        [FirstNightActions.BLACKMAIL]: (players: string[]) =>\n            applyModifier({ players, modifier: ModifiersTypes.BLACKMAIL }),\n    }\n\n    const spyActions: string[] = [\n        NightActions.SPY,\n        NightActions.SPY2,\n        DayActions.MEET,\n    ]\n\n    const handleClick = () => {\n        setDoneStatus(true)\n\n        if (action.action) {\n            setPlayerAction({\n                action: mapActionsToModifer[action.type],\n                isSpy: spyActions.includes(action.type),\n            })\n            setPlayerDialog(true)\n        }\n    }\n    return (\n        <Fragment>\n            <Button\n                fullWidth\n                variant={\n                    done ? 'contained' : action.action ? 'outlined' : 'text'\n                }\n                onClick={handleClick}\n                className={classes.container}\n            >\n                {action.message}\n            </Button>\n            {isPlayersDialogOpen && (\n                <PlayersDialog\n                    open={isPlayersDialogOpen}\n                    onClose={() => setPlayerDialog(false)}\n                    onClick={playerAction.action}\n                    isSpy={playerAction.isSpy}\n                />\n            )}\n        </Fragment>\n    )\n}\n","import React, { FC, Fragment } from 'react'\nimport { Button, Box, ButtonGroup } from '@material-ui/core'\nimport { useActionStyles } from './Actions.styles'\nimport { useStoreState, useStoreActions } from 'store/store'\nimport {\n    GamePeriodsType,\n    DayActions,\n    FirstNightActions,\n    NightActions,\n} from 'store/game/game.types'\nimport { Action } from './Action/Action'\nimport {\n    TownRoles,\n    SyndicateRoles,\n    MafiaRoles,\n    Fractions,\n} from 'store/player/player.types'\n\nexport const Actions: FC = () => {\n    const classes = useActionStyles()\n    const period = useStoreState(state => state.game.period)\n    const periodNumber = useStoreState(state => state.game.periodNumber)\n    const firstNightActions = useStoreState(\n        state => state.game.config.firstNight.actions\n    )\n    const dayActions = useStoreState(state => state.game.config.day.actions)\n    const nightActions = useStoreState(state => state.game.config.night.actions)\n    const nextPeriod = useStoreActions(state => state.game.nextPeriod)\n    const previousPeriod = useStoreActions(state => state.game.previousPeriod)\n    const roles = useStoreState(state => state.game.roles)\n    const fractions = useStoreState(state => state.game.fractions)\n    let actions = null\n\n    if (periodNumber === 0) {\n        actions = firstNightActions.filter(action => {\n            if (action.type === FirstNightActions.PROSTITUTE_MEET) {\n                return roles.includes(SyndicateRoles.PROSTITUTE)\n            }\n            if (action.type === FirstNightActions.BLACKMAIL) {\n                return roles.includes(MafiaRoles.BLACKMAILER)\n            }\n            return true\n        })\n    } else if (period === GamePeriodsType.DAY) {\n        actions = dayActions.filter(action => {\n            if (action.type === DayActions.QUICK) {\n                return roles.includes(TownRoles.QUICK)\n            }\n            if (action.type === DayActions.CRAZY) {\n                return roles.includes(TownRoles.CRAZY)\n            }\n            return true\n        })\n    } else if (period === GamePeriodsType.NIGHT) {\n        actions = nightActions.filter(action => {\n            if (action.type === NightActions.DEATH_ANGEL) {\n                return roles.includes(SyndicateRoles.DEATH_ANGEL)\n            }\n            if (action.type === NightActions.DEVIL) {\n                return roles.includes(SyndicateRoles.DEVIL)\n            }\n            if (action.type === NightActions.DOCTOR) {\n                return roles.includes(TownRoles.DOCTOR)\n            }\n            if (action.type === NightActions.POISON) {\n                return roles.includes(MafiaRoles.POISON)\n            }\n            if (action.type === NightActions.SPY) {\n                return roles.includes(TownRoles.SPY)\n            }\n            if (action.type === NightActions.SPY2) {\n                return roles.includes(TownRoles.SPY2)\n            }\n            if (action.type === NightActions.MAFIA_KILL) {\n                return fractions.includes(Fractions.MAFIA)\n            }\n\n            return true\n        })\n    }\n\n    return (\n        <Fragment>\n            <Box className={classes.container} key={period}>\n                {actions &&\n                    actions.map(action => (\n                        <Action action={action} key={action.type} />\n                    ))}\n            </Box>\n            <ButtonGroup fullWidth>\n                {periodNumber > 0 && (\n                    <Button\n                        onClick={() => previousPeriod()}\n                        className={classes.button}\n                    >\n                        Wróć\n                    </Button>\n                )}\n                <Button onClick={() => nextPeriod()} className={classes.button}>\n                    Dalej\n                </Button>\n            </ButtonGroup>\n        </Fragment>\n    )\n}\n","import React, { FC, useState } from 'react'\nimport SwipeableViews from 'react-swipeable-views'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { AppBar, Tabs, Tab, useTheme, Typography } from '@material-ui/core'\nimport { Notes, Person, ViewList } from '@material-ui/icons'\nimport { useGameStyles } from './Game.styles'\nimport { useStoreState } from 'store/store'\nimport { Player } from './Player/Player'\nimport { Actions } from './Actions/Actions'\n\nexport const Game: FC = () => {\n    const classes = useGameStyles()\n    const theme = useTheme()\n    const [value, setValue] = useState(1)\n    const players = useStoreState(store => store.game.players)\n    const logs = useStoreState(store => store.game.log)\n\n    function handleChange(event: any, newValue: number) {\n        setValue(newValue)\n    }\n\n    function handleChangeIndex(index: number) {\n        setValue(index)\n    }\n\n    return (\n        <BaseLayout displayAppBar>\n            <AppBar position=\"static\" color=\"default\">\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    variant=\"fullWidth\"\n                >\n                    <Tab\n                        icon={<Notes />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                    <Tab\n                        icon={<ViewList />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                    <Tab\n                        icon={<Person />}\n                        classes={{ fullWidth: classes.fullWidth }}\n                    />\n                </Tabs>\n            </AppBar>\n            <SwipeableViews\n                axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                index={value}\n                onChangeIndex={handleChangeIndex}\n                className={classes.flexGrow}\n                slideClassName={classes.flexGrow}\n                containerStyle={{\n                    flexGrow: 1,\n                    display: 'flex',\n                }}\n            >\n                <div dir={theme.direction} className={classes.logsContainer}>\n                    {logs.map((log, index) => (\n                        <Typography\n                            variant=\"body1\"\n                            component=\"p\"\n                            key={`action-log-${index}`}\n                        >\n                            {log.action}\n                        </Typography>\n                    ))}\n                </div>\n                <div dir={theme.direction} className={classes.flexGrow}>\n                    <Actions />\n                </div>\n                <div\n                    dir={theme.direction}\n                    className={classes.scrollableContainer}\n                >\n                    {players.map(player => (\n                        <Player player={player} key={player.playerId} />\n                    ))}\n                </div>\n            </SwipeableViews>\n        </BaseLayout>\n    )\n}\n","import { makeStyles } from '@material-ui/core'\n\nexport const useGameMenuStyles = makeStyles(theme => ({\n    button: {\n        width: '100%',\n        height: 100,\n        marginBottom: theme.spacing(2),\n    },\n    container: {\n        justifyContent: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n    },\n}))\n","import React, { FC, useContext } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { Button } from '@material-ui/core'\nimport { useGameMenuStyles } from './GameMenu.styles'\nimport { __RouterContext } from 'react-router'\nimport { Routes } from 'routing/routes'\nimport { useStoreState, useStoreActions } from 'store/store'\n\nexport const GameMenu: FC = () => {\n    const classes = useGameMenuStyles()\n    const router = useContext(__RouterContext)\n    const players = useStoreState(store => store.player.items).filter(\n        player => player.active\n    )\n    const startNewGame = useStoreActions(actions => actions.game.startGame)\n    const existingGame = useStoreState(store => store.game.exisitingGame)\n\n    const handleNewGame = () => {\n        startNewGame({ players })\n        router.history.push(Routes.GAME)\n    }\n    return (\n        <BaseLayout displayAppBar>\n            <div className={classes.container}>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.button }}\n                    onClick={handleNewGame}\n                >\n                    Zacznij nową grę\n                </Button>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.button }}\n                    onClick={() => router.history.push(Routes.GAME)}\n                    disabled={!existingGame}\n                >\n                    Kontynuuj\n                </Button>\n            </div>\n        </BaseLayout>\n    )\n}\n","import React, { FC, useContext } from 'react'\nimport { BaseLayout } from 'shared/BaseLayout/BaseLayout'\nimport { useStoreActions, useStoreState } from 'store/store'\nimport { __RouterContext } from 'react-router'\nimport { PlayerForm } from '../PlayerForm/PlayerForm'\n\nexport const EditPlayer: FC = () => {\n    const router = useContext(__RouterContext)\n    const editPlayer = useStoreActions(actions => actions.player.editPlayer)\n    const id = (router.match.params as { id: string }).id\n    const player = useStoreState(store => store.player.items).filter(\n        player => player.id === id\n    )[0]\n\n    const handleSubmit = (values: { name: string }) => {\n        editPlayer({ id: id, name: values.name })\n        router.history.goBack()\n    }\n    return (\n        <BaseLayout displayAppBar>\n            <PlayerForm\n                initialValue={player.name}\n                handleSubmit={handleSubmit}\n            />\n        </BaseLayout>\n    )\n}\n","import React, { FC } from 'react'\nimport { Switch, Route, HashRouter as Router } from 'react-router-dom'\nimport { Menu } from 'views/Menu/Menu'\nimport { Players } from 'views/Players/Players'\nimport { Routes } from './routes'\nimport { AddPlayer } from 'views/Players/AddPlayer/AddPlayer'\nimport { Assign } from 'views/Assign/Assign'\nimport { Fraction } from 'views/Assign/Fraction/Fraction'\nimport { Game } from 'views/Game/Game/Game'\nimport { GameMenu } from 'views/Game/GameMenu/GameMenu'\nimport { EditPlayer } from 'views/Players/EditPlayer/EditPlayer'\n\nexport const Routing: FC = () => {\n    return (\n        <Router>\n            <Switch>\n                <Route exact path={Routes.MAIN_MENU} component={Menu} />\n                <Route exact path={Routes.PLAYERS} component={Players} />\n                <Route exact path={Routes.ADD_PLAYER} component={AddPlayer} />\n                <Route exact path={Routes.ASSIGN_PLAYERS} component={Assign} />\n                <Route exact path={Routes.GAME} component={Game} />\n                <Route exact path={Routes.GAME_MENU} component={GameMenu} />\n                <Route exact path={'/players/:id'} component={EditPlayer} />\n                <Route\n                    exact\n                    path={'/fractions/players/:id'}\n                    component={Fraction}\n                />\n            </Switch>\n        </Router>\n    )\n}\n","import React, { Fragment } from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { StoreProvider } from 'easy-peasy'\nimport { store, persistor } from './store/store'\nimport { Routing } from 'routing/Routing'\nimport { Container } from '@material-ui/core'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nconst App: React.FC = () => {\n    return (\n        <Fragment>\n            <PersistGate loading={<div>Loading</div>} persistor={persistor}>\n                <StoreProvider store={store}>\n                    <Container component=\"main\" maxWidth=\"xs\">\n                        <CssBaseline />\n                        <Routing />\n                    </Container>\n                </StoreProvider>\n            </PersistGate>\n        </Fragment>\n    )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n)\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void\n    onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(\n            (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n            window.location.href\n        )\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    )\n                })\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config)\n            }\n        })\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                if (installingWorker == null) {\n                    return\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            )\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration)\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration)\n                            }\n                        }\n                    }\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type')\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config)\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        })\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister()\n        })\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}